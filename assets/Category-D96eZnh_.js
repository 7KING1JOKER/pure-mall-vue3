import{u as e,_ as a,P as t}from"./PcMenu-CILoefBe.js";/* empty css                  *//* empty css                 *//* empty css                           */import{y as l,aA as o,r as s,c as r,w as d,z as n,Q as i,I as u,A as c,B as m,P as p,a5 as g,H as _,M as y,O as v,u as f,j as C,K as k}from"./vue-vendor-DGIvoex4.js";import{j as b,w as j,N as h,n as V,H as w,r as P,O as z,q as N,T as x,o as M,p as D}from"./element-plus-0hPO9ffS.js";import{F as A}from"./Footer-BYoy_ecU.js";import{P as I}from"./ProductCard-DpiHfTEX.js";import"./index-BhLVxhdg.js";import"./axios-DZIQhO2a.js";import"./utils-DcEdpf46.js";/* empty css                        */const O={class:"category-nav-dialog-container"},S={class:"category-tags-container"},B=a(l({__name:"CategoryNavDialog",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(a,{emit:t}){const l=a,C=t,k=e(),{categories:h,currentCategory:V}=o(k),{handleNodeClick:w}=k,P=s(!1),z=r({get:()=>l.modelValue,set(e){C("update:modelValue",e)}}),N=()=>{P.value=!0},x=()=>{P.value=!1,setTimeout(()=>{P.value||(z.value=!1)},100)},M=e=>{w(e),z.value=!1},D=()=>{z.value=!1};return d(()=>l.modelValue,e=>{e!==z.value&&(z.value=e)}),(e,a)=>{const t=j,l=b;return c(),n("div",O,[i(l,{modelValue:z.value,"onUpdate:modelValue":a[0]||(a[0]=e=>z.value=e),title:"商品分类",transition:"fade",width:"100%",top:"60px","before-close":D,"modal-class":"custom-category-mask","custom-class":"category-nav-dialog",onMouseenter:N,onMouseleave:x},{default:u(()=>[m("div",S,[(c(!0),n(p,null,g(f(h),e=>(c(),n(p,{key:e.id},[e.children&&e.children.length>0?(c(!0),n(p,{key:0},g(e.children,e=>(c(),_(t,{key:e.id,type:f(V).id===e.id?"primary":"info",onClick:a=>M(e),class:"sub-category-tag"},{default:u(()=>[y(v(e.label),1)]),_:2},1032,["type","onClick"]))),128)):(c(),_(t,{key:1,type:f(V).id===e.id?"primary":"info",onClick:a=>M(e),class:"sub-category-tag"},{default:u(()=>[y(v(e.label),1)]),_:2},1032,["type","onClick"]))],64))),128))])]),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-f8507402"]]),F={class:"category-container"},H={class:"top-container"},T={class:"filter-toolbar"},U={class:"filter-left"},q={class:"dropdown-link"},K={class:"category-main"},Q={class:"product-list"},E={class:"product-grid"},G={key:0,class:"no-products"},J={class:"pagination-container"},L=a(l({__name:"Category",setup(a){const l=e(),{handleCurrentChange:s,handleSortChange:r,initializeData:d,sortOptions:b}=l,j=()=>{l.currentCategory={id:"",label:"全部商品"},d()},{displayProducts:O,currentCategory:S,currentSort:L,pageSize:R,totalProducts:W}=o(l);return C(()=>{d()}),(e,a)=>{const o=z,d=h,C=N,X=D,Y=M,Z=V,$=w,ee=P;return c(),n("div",F,[i(t),m("div",H,[i(d,{separator:"/",class:"breadcrumb"},{default:u(()=>[i(o,{onClick:j},{default:u(()=>a[2]||(a[2]=[y("全部",-1)])),_:1,__:[2]}),i(o,{onMouseenter:a[0]||(a[0]=e=>f(l).CategoryNavVisible=!0)},{default:u(()=>a[3]||(a[3]=[y(" 商品分类 ",-1)])),_:1,__:[3]}),f(S).id?(c(),_(o,{key:0},{default:u(()=>[y(v(f(S).label),1)]),_:1})):k("",!0)]),_:1}),m("div",T,[m("div",U,[i(Z,{onCommand:f(r)},{dropdown:u(()=>[i(Y,null,{default:u(()=>[i(X,{command:"default"},{default:u(()=>a[4]||(a[4]=[y("综合排序",-1)])),_:1,__:[4]}),i(X,{command:"priceAsc"},{default:u(()=>a[5]||(a[5]=[y("价格从低到高",-1)])),_:1,__:[5]}),i(X,{command:"priceDesc"},{default:u(()=>a[6]||(a[6]=[y("价格从高到低",-1)])),_:1,__:[6]}),i(X,{command:"salesDesc"},{default:u(()=>a[7]||(a[7]=[y("销量优先",-1)])),_:1,__:[7]}),i(X,{command:"newest"},{default:u(()=>a[8]||(a[8]=[y("最新上架",-1)])),_:1,__:[8]})]),_:1})]),default:u(()=>[m("span",q,[y(v(f(b)[f(L)]),1),i(C,null,{default:u(()=>[i(f(x))]),_:1})])]),_:1},8,["onCommand"])])])]),m("div",K,[m("div",Q,[m("div",E,[(c(!0),n(p,null,g(f(O),(e,a)=>(c(),_(I,{key:e.id,product:e,"loading-mode":a<f(R)?"eager":"lazy"},null,8,["product","loading-mode"]))),128))]),0===f(O).length?(c(),n("div",G,[i($,{description:"暂无商品"})])):k("",!0),m("div",J,[i(ee,{background:"",layout:"prev, pager, next, jumper","page-size":f(R),total:f(W),onCurrentChange:f(s)},null,8,["page-size","total","onCurrentChange"])])])]),i(A),i(B,{modelValue:f(l).CategoryNavVisible,"onUpdate:modelValue":a[1]||(a[1]=e=>f(l).CategoryNavVisible=e)},null,8,["modelValue"])])}}}),[["__scopeId","data-v-2acd68f1"]]);export{L as default};
