import{y as e,aE as a,aF as s,l as i,r as l,j as t,z as o,Q as r,I as d,n,A as u,B as c,u as m,E as p,D as f,M as h,ay as w,aB as M,aA as x,X as b,H as y,aC as g,ah as H}from"./vue-vendor-DGIvoex4.js";import{j as B,k as v,l as D,f as j,q as Y,ab as Z,ah as G,ai as W,c as T,S as J,a as F,E as z,x as A,aj as I,R as V,y as _,ak as U,z as q,ac as X,al as N,a7 as C}from"./element-plus-0hPO9ffS.js";import{u as k,r as R}from"./index-BvqL1sXf.js";const Q={class:"register-dialog"},S={class:"register-content"},P={class:"input-container"},E={class:"input-container"},L={class:"input-container"},$={class:"input-container"},O={class:"form-footer"},K={class:"login-hint"},ee=(e,a)=>{const s=e.__vccOpts||e;for(const[i,l]of a)s[i]=l;return s},ae=ee(e({__name:"RegisterDialog",props:{visible:{type:Boolean,required:!0},visibleModifiers:{}},emits:a(["success","cancel","to-login"],["update:visible"]),setup(e,{emit:a}){const w=k(),M=a,x=s(e,"visible"),b=i({username:"",email:"",password:"",confirmPassword:""}),y=l(null),g=i({username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:16,message:"用户名长度在3到16个字符",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入有效的邮箱地址",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:8,message:"密码长度至少8位",trigger:"blur"},{validator:(e,a,s)=>{/[A-Z]/.test(a)?/[a-z]/.test(a)?/[0-9]/.test(a)?s():s(new Error("至少包含一个数字")):s(new Error("至少包含一个小写字母")):s(new Error("至少包含一个大写字母"))},trigger:"blur"}],confirmPassword:[{required:!0,message:"请再次输入密码",trigger:"blur"},{validator:(e,a,s)=>{a!==b.password?s(new Error("两次输入的密码不一致")):s()},trigger:"blur"}]}),H=l(""),z=l(0),A=l(0),I=l(0),V=l(0),_=document.createElement("span");_.style.visibility="hidden",_.style.position="absolute",_.style.whiteSpace="pre",_.style.font="inherit",document.body.appendChild(_);const U=(e,a)=>{n(()=>{const s=b[e],i="blur"===a?.type,l=document.querySelector(`.el-form-item.prop-${e} .input-container`),t=l?.querySelector(".el-input__inner");if(i&&s&&t){const a=t.offsetWidth;return"username"===e&&(z.value=a),"email"===e&&(A.value=a),"password"===e&&(I.value=a+20),void("confirmPassword"===e&&(V.value=a+20))}if(!s)return"username"===e&&(z.value=0),"email"===e&&(A.value=0),"password"===e&&(I.value=0),void("confirmPassword"===e&&(V.value=0));if(t){const e=window.getComputedStyle(t);_.style.font=e.font}_.textContent=s;const o=_.offsetWidth;"username"===e&&(z.value=o),"email"===e&&(A.value=o),"password"===e&&(I.value=o),"confirmPassword"===e&&(V.value=o)})},q=async()=>{if(await(y.value?.validate()))try{await w.register(b.username,b.email,b.password,b.confirmPassword),F({title:"注册成功",message:"您的账户已成功创建",type:"success"}),M("success",{username:b.username,email:b.email}),y.value?.resetFields(),x.value=!1,M("to-login")}catch(e){F({title:"注册失败",message:"注册过程中发生错误，请稍后再试",type:"error"})}},X=()=>{y.value?.resetFields(),x.value=!1,M("to-login")};return t(()=>{U("username"),U("email"),U("password"),U("confirmPassword")}),(e,a)=>{const s=Y,i=j,l=D,t=T,n=J,w=v,M=B;return u(),o("div",Q,[r(M,{modelValue:x.value,"onUpdate:modelValue":a[16]||(a[16]=e=>x.value=e),width:"30%","modal-class":"custom-register-mask","show-close":!0,"close-on-click-modal":!1,"close-on-press-escape":!1},{default:d(()=>[c("div",S,[a[20]||(a[20]=c("div",{class:"register-header"},[c("h2",null,"欢迎加入pure-mall")],-1)),r(w,{ref_key:"formRef",ref:y,model:b,rules:g,class:"register-form"},{default:d(()=>[r(l,{prop:"username",class:"prop-username"},{default:d(()=>[c("div",P,[r(i,{modelValue:b.username,"onUpdate:modelValue":a[0]||(a[0]=e=>b.username=e),placeholder:"用户名",size:"large",clearable:"",onInput:a[1]||(a[1]=e=>U("username")),onFocus:a[2]||(a[2]=e=>H.value="username"),onBlur:a[3]||(a[3]=e=>U("username",e))},{prefix:d(()=>[r(s,null,{default:d(()=>[r(m(Z))]),_:1})]),_:1},8,["modelValue"]),c("div",{class:p(["input-underline",{active:"username"===H.value}])},[c("div",{class:"dynamic-underline",style:f({width:`${z.value}px`})},null,4)],2)])]),_:1}),r(l,{prop:"email",class:"prop-email"},{default:d(()=>[c("div",E,[r(i,{modelValue:b.email,"onUpdate:modelValue":a[4]||(a[4]=e=>b.email=e),placeholder:"邮箱地址",size:"large",clearable:"",onInput:a[5]||(a[5]=e=>U("email")),onFocus:a[6]||(a[6]=e=>H.value="email"),onBlur:a[7]||(a[7]=e=>U("email",e))},{prefix:d(()=>[r(s,null,{default:d(()=>[r(m(G))]),_:1})]),_:1},8,["modelValue"]),c("div",{class:p(["input-underline",{active:"email"===H.value}])},[c("div",{class:"dynamic-underline",style:f({width:`${A.value}px`})},null,4)],2)])]),_:1}),r(l,{prop:"password",class:"prop-password"},{default:d(()=>[c("div",L,[r(i,{modelValue:b.password,"onUpdate:modelValue":a[8]||(a[8]=e=>b.password=e),type:"password",placeholder:"设置密码",size:"large","show-password":"",onInput:a[9]||(a[9]=e=>U("password")),onFocus:a[10]||(a[10]=e=>H.value="password"),onBlur:a[11]||(a[11]=e=>U("password",e))},{prefix:d(()=>[r(s,null,{default:d(()=>[r(m(W))]),_:1})]),_:1},8,["modelValue"]),c("div",{class:p(["input-underline",{active:"password"===H.value}])},[c("div",{class:"dynamic-underline",style:f({width:`${I.value}px`})},null,4)],2)])]),_:1}),r(l,{prop:"confirmPassword",class:"prop-confirmPassword"},{default:d(()=>[c("div",$,[r(i,{modelValue:b.confirmPassword,"onUpdate:modelValue":a[12]||(a[12]=e=>b.confirmPassword=e),type:"password",placeholder:"确认密码",size:"large","show-password":"",onInput:a[13]||(a[13]=e=>U("confirmPassword")),onFocus:a[14]||(a[14]=e=>H.value="confirmPassword"),onBlur:a[15]||(a[15]=e=>U("confirmPassword",e))},{prefix:d(()=>[r(s,null,{default:d(()=>[r(m(W))]),_:1})]),_:1},8,["modelValue"]),c("div",{class:p(["input-underline",{active:"confirmPassword"===H.value}])},[c("div",{class:"dynamic-underline",style:f({width:`${V.value}px`})},null,4)],2)])]),_:1}),c("div",O,[r(t,{class:"register-btn",type:"primary",size:"large",onClick:q},{default:d(()=>a[17]||(a[17]=[h(" 注册账户 ",-1)])),_:1,__:[17]}),c("div",K,[a[19]||(a[19]=h(" 已有账户? ",-1)),r(n,{type:"primary",onClick:X},{default:d(()=>a[18]||(a[18]=[h("立即登录",-1)])),_:1,__:[18]})])])]),_:1},8,["model","rules"])])]),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-a95f2ba0"]]),se={class:"login-dialog"},ie={class:"login-content"},le={class:"input-container"},te={class:"input-container"},oe={class:"form-footer"},re=ee(e({__name:"LoginDialog",props:{visible:{type:Boolean,required:!0},visibleModifiers:{}},emits:a(["success","cancel"],["update:visible"]),setup(e,{emit:a}){const w=k(),M=a,x=s(e,"visible"),b=i({username:"",password:""}),y=l(null),g=i({username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:16,message:"用户名长度在3到16个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:8,message:"密码长度至少8位",trigger:"blur"}]}),H=l(""),G=l(0),J=l(0),F=document.createElement("span");F.style.visibility="hidden",F.style.position="absolute",F.style.whiteSpace="pre",F.style.font="inherit",document.body.appendChild(F);const z=(e,a)=>{n(()=>{const s=b[e],i="blur"===a?.type,l=document.querySelector(`.el-form-item.prop-${e} .input-container`),t=l?.querySelector(".el-input__inner");if(i&&s&&t){const a=t.offsetWidth;return"username"===e&&(G.value=a),void("password"===e&&(J.value=a+20))}if(!s)return"username"===e&&(G.value=0),void("password"===e&&(J.value=0));if(t){const e=window.getComputedStyle(t);F.style.font=e.font}F.textContent=s;const o=F.offsetWidth;"username"===e&&(G.value=o),"password"===e&&(J.value=o)})},A=async()=>{if(await(y.value?.validate()))try{await w.login(b.username,b.password),w.username=b.username,M("success",{username:b.username}),y.value?.resetFields(),x.value=!1}catch(e){}};return t(()=>{z("username"),z("password")}),(e,a)=>{const s=Y,i=j,l=D,t=T,n=v,w=B;return u(),o("div",se,[r(w,{modelValue:x.value,"onUpdate:modelValue":a[8]||(a[8]=e=>x.value=e),width:"30%","modal-class":"custom-register-mask","show-close":!0,"close-on-click-modal":!1,"close-on-press-escape":!1},{default:d(()=>[c("div",ie,[a[10]||(a[10]=c("div",{class:"login-header"},[c("h2",null,"pure-mall")],-1)),r(n,{ref_key:"formRef",ref:y,model:b,rules:g,class:"login-form"},{default:d(()=>[r(l,{prop:"username",class:"prop-username"},{default:d(()=>[c("div",le,[r(i,{modelValue:b.username,"onUpdate:modelValue":a[0]||(a[0]=e=>b.username=e),placeholder:"用户名",size:"large",clearable:"",onInput:a[1]||(a[1]=e=>z("username")),onFocus:a[2]||(a[2]=e=>H.value="username"),onBlur:a[3]||(a[3]=e=>z("username",e))},{prefix:d(()=>[r(s,null,{default:d(()=>[r(m(Z))]),_:1})]),_:1},8,["modelValue"]),c("div",{class:p(["input-underline",{active:"username"===H.value}])},[c("div",{class:"dynamic-underline",style:f({width:`${G.value}px`})},null,4)],2)])]),_:1}),r(l,{prop:"password",class:"prop-password"},{default:d(()=>[c("div",te,[r(i,{modelValue:b.password,"onUpdate:modelValue":a[4]||(a[4]=e=>b.password=e),type:"password",placeholder:"密码",size:"large","show-password":"",onInput:a[5]||(a[5]=e=>z("password")),onFocus:a[6]||(a[6]=e=>H.value="password"),onBlur:a[7]||(a[7]=e=>z("password",e))},{prefix:d(()=>[r(s,null,{default:d(()=>[r(m(W))]),_:1})]),_:1},8,["modelValue"]),c("div",{class:p(["input-underline",{active:"password"===H.value}])},[c("div",{class:"dynamic-underline",style:f({width:`${J.value}px`})},null,4)],2)])]),_:1}),c("div",oe,[r(t,{class:"login-btn",type:"primary",size:"large",onClick:A},{default:d(()=>a[9]||(a[9]=[h(" 登录 ",-1)])),_:1,__:[9]})])]),_:1},8,["model","rules"])])]),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-7ad320a9"]]),de=[{id:"1",label:"上衣",icon:"Tshirt",children:[{id:"11",label:"T恤",icon:"Tshirt"},{id:"12",label:"衬衫",icon:"Document"},{id:"13",label:"卫衣",icon:"Shirt"},{id:"14",label:"毛衣",icon:"Cloud"},{id:"15",label:"夹克",icon:"FolderOpened"},{id:"16",label:"外套",icon:"Umbrella"}]},{id:"2",label:"下装",icon:"Briefcase",children:[{id:"21",label:"牛仔裤",icon:"Star"},{id:"22",label:"休闲裤",icon:"Goods"},{id:"25",label:"裙子",icon:"Bell"}]},{id:"3",label:"鞋子",icon:"Soccer"},{id:"4",label:"配饰",icon:"Glasses"},{id:"5",label:"内衣",icon:"User"},{id:"6",label:"箱包",icon:"ShoppingBag"}],ne=[{id:1001,name:"纯棉宽松短袖T恤",price:99,sales:1250,image:"https://images.unsplash.com/photo-1581655353564-df123a1eb820?q=80&w=987&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{id:1002,name:"男士印花短袖T恤",price:89,sales:2100,image:"https://images.unsplash.com/photo-1688990982651-a5d751773eff?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MjN8fHNob3J0JTIwc2xlZXZlJTIwdCUyMHNoaXJ0JTIwYmxhY2slMjBhbmQlMjB3aGl0ZXxlbnwwfHwwfHx8MA%3D%3D"},{id:1003,name:"女士修身短袖T恤",price:109,sales:1850,image:"https://images.unsplash.com/photo-1688404970273-4d83251d3686?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mjh8fFdvbWVuJ3MlMjBULXNoaXJ0JTIwYmxhY2slMjBhbmQlMjB3aGl0ZXxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&q=60&w=600"},{id:1004,name:"情侣装短袖T恤",price:119,sales:980,image:"https://images.unsplash.com/photo-1739809006763-49663591bdcd?q=80&w=1049&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{id:1005,name:"商务休闲长袖衬衫",price:199,sales:890,image:"https://images.unsplash.com/photo-1745270029066-8c1dfb37c03c?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTB8fEJ1c2luZXNzJTIwY2FzdWFsJTIwbG9uZyUyMHNsZWV2ZSUyMHNoaXJ0JTIwYmxhY2slMjBhbmQlMjB3aGl0ZXxlbnwwfHwwfHx8MA%3D%3D"},{id:1006,name:"男士牛津纺长袖衬衫",price:219,sales:1250,image:"https://images.unsplash.com/photo-1614495039153-e9cd13240469?q=80&w=987&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{id:1007,name:"女士真丝长袖衬衫",price:299,sales:750,image:"https://images.unsplash.com/photo-1590588503704-9aaf7d2946d3?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8TGFkaWVzJyUyMFNpbGslMjBMb25nJTIwU2xlZXZlJTIwU2hpcnQlMjBibGFjayUyMGFuZCUyMHdoaXRlfGVufDB8fDB8fHww"},{id:1008,name:"薄款防晒长袖衬衫",price:159,sales:1980,image:"https://images.unsplash.com/photo-1744963129109-3f3fdf8d0b8d?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8VGhpbiUyMGxvbmclMjBzbGVldmUlMjBzaGlydCUyMGJsYWNrJTIwYW5kJTIwd2hpdGV8ZW58MHx8MHx8fDA%3D"},{id:1009,name:"加绒连帽卫衣",price:259,sales:1870,image:"https://images.unsplash.com/photo-1622866654030-fb0958200023?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8N3x8aG9vZGllJTIwYmxhY2slMjBhbmQlMjB3aGl0ZXxlbnwwfHwwfHx8MA%3D%3D"},{id:1010,name:"宽松圆领卫衣",price:199,sales:2350,image:"https://images.unsplash.com/photo-1716004109499-95f01ec73e30?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MjJ8fExvb3NlJTIwcm91bmQlMjBuZWNrJTIwc3dlYXRzaGlydCUyMGJsYWNrJTIwYW5kJTIwd2hpdGV8ZW58MHx8MHx8fDA%3D"},{id:1011,name:"情侣款连帽卫衣",price:229,sales:1450,image:"https://images.unsplash.com/photo-1576018357765-f04766b34b6b?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTV8fENvdXBsZSdzJTIwaG9vZGVkJTIwc3dlYXRzaGlydCUyMGJsYWNrJTIwYW5kJTIwd2hpdGV8ZW58MHx8MHx8fDA%3D"},{id:1012,name:"oversize卫衣",price:249,sales:1780,image:"https://images.unsplash.com/photo-1580159851546-833dd8f26318?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OHx8b3ZlcnNpemVkJTIwaG9vZGllJTIwYmxhY2slMjBhbmQlMjB3aGl0ZXxlbnwwfHwwfHx8MA%3D%3D"},{id:1013,name:"高领针织毛衣",price:299,sales:670,image:"https://images.unsplash.com/photo-1647736878001-e96794c5877a?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8SGlnaCUyMG5lY2slMjBrbml0dGVkJTIwc3dlYXRlciUyMGJsYWNrJTIwYW5kJTIwd2hpdGV8ZW58MHx8MHx8fDA%3D"},{id:1014,name:"圆领宽松毛衣",price:279,sales:1120,image:"https://images.unsplash.com/photo-1734003066406-33aa5fba6821?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OHx8TG9vc2UlMjBmaXR0aW5nJTIwcm91bmQlMjBuZWNrJTIwc3dlYXRlciUyMGJsYWNrJTIwYW5kJTIwd2hpdGV8ZW58MHx8MHx8fDA%3D"},{id:1015,name:"V领针织开衫",price:329,sales:890,image:"https://images.unsplash.com/photo-1739047832043-287c97d7312a?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NTJ8fFYlMjBuZWNrJTIwa25pdHRlZCUyMGNhcmRpZ2FuJTIwYmxhY2slMjBhbmQlMjB3aGl0ZXxlbnwwfHwwfHx8MA%3D%3D"},{id:1016,name:"麻花编织毛衣",price:359,sales:580,image:"https://plus.unsplash.com/premium_photo-1671135590215-ded219822a44?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTd8fFR3aXN0ZWQlMjBrbml0JTIwc3dlYXRlciUyMGJsYWNrJTIwYW5kJTIwd2hpdGV8ZW58MHx8MHx8fDA%3D"},{id:1017,name:"修身牛仔夹克",price:359,sales:4320,image:"https://images.unsplash.com/photo-1727516299214-c4d54704b045?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8N3x8U3VlZGUlMjBkZW5pbSUyMGphY2tldCUyMGJsYWNrJTIwYW5kJTIwd2hpdGV8ZW58MHx8MHx8fDA%3D"},{id:1018,name:"时尚西装外套",price:499,sales:3250,image:"https://plus.unsplash.com/premium_photo-1661328047229-aea8cde84a31?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTN8fGZhc2hpb25hYmxlJTIwc3VpdCUyMGphY2tldCUyMGJsYWNrJTIwYW5kJTIwd2hpdGV8ZW58MHx8MHx8fDA%3D"},{id:1019,name:"休闲工装夹克",price:329,sales:2180,image:"https://images.unsplash.com/photo-1632958978877-69406b688b11?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTh8fENhc3VhbCUyMHdvcmslMjBqYWNrZXQlMjBibGFjayUyMGFuZCUyMHdoaXRlfGVufDB8fDB8fHww"},{id:1020,name:"轻薄羽绒外套",price:599,sales:1590,image:"https://images.unsplash.com/photo-1699431763539-a83758780d6f?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Nnx8TGlnaHR3ZWlnaHQlMjBkb3duJTIwamFja2V0JTIwYmxhY2slMjBhbmQlMjB3aGl0ZXxlbnwwfHwwfHx8MA%3D%3D"},{id:1021,name:"经典直筒牛仔裤",price:249,sales:1560,image:"https://images.unsplash.com/photo-1601747465107-1beb1c562334?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8amVhbnMlMjBibGFjayUyMGFuZCUyMHdoaXRlfGVufDB8fDB8fHww"},{id:1022,name:"修身小脚牛仔裤",price:269,sales:2350,image:"https://images.unsplash.com/photo-1626295077144-61f9eb15d25e?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTB8fGplYW5zJTIwYmxhY2slMjBhbmQlMjB3aGl0ZXxlbnwwfHwwfHx8MA%3D%3D"},{id:1023,name:"高腰阔腿牛仔裤",price:289,sales:1890,image:"https://images.unsplash.com/photo-1633833293795-6a0da546e91f?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MjB8fGplYW5zJTIwYmxhY2slMjBhbmQlMjB3aGl0ZXxlbnwwfHwwfHx8MA%3D%3D"},{id:1024,name:"破洞牛仔裤",price:299,sales:1650,image:"https://images.unsplash.com/photo-1647309330899-3195579594b8?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTh8fHJpcHBlZCUyMGplYW5zJTIwYmxhY2slMjBhbmQlMjB3aGl0ZXxlbnwwfHwwfHx8MA%3D%3D"},{id:1025,name:"休闲束脚运动裤",price:179,sales:4320,image:"https://images.unsplash.com/photo-1715833002251-64a42ab16fdc?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8Q2FzdWFsJTIwY3VmZmVkJTIwc3dlYXRwYW50cyUyMGJsYWNrJTIwYW5kJTIwd2hpdGV8ZW58MHx8MHx8fDA%3D"},{id:1026,name:"潮流工装短裤",price:159,sales:780,image:"https://images.unsplash.com/photo-1516271099866-de31ba93ee4b?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTZ8fFRyZW5keSUyMGNhcmdvJTIwc2hvcnRzJTIwYmxhY2slMjBhbmQlMjB3aGl0ZXxlbnwwfHwwfHx8MA%3D%3D"},{id:1027,name:"男士商务休闲裤",price:219,sales:1980,image:"https://images.unsplash.com/photo-1590463043718-50200caa16d1?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTB8fGNhc3VhbCUyMHBhbnRzJTIwc2hvcnRzJTIwYmxhY2slMjBhbmQlMjB3aGl0ZXxlbnwwfHwwfHx8MA%3D%3D"},{id:1028,name:"女士阔腿休闲裤",price:229,sales:1750,image:"https://images.unsplash.com/photo-1671394199549-fa5715c1e40c?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTF8fFdvbWVuJ3MlMjB3aWRlJTIwbGVnJTIwY2FzdWFsJTIwcGFudHMlMjBibGFjayUyMGFuZCUyMHdoaXRlfGVufDB8fDB8fHww"},{id:1029,name:"优雅碎花连衣裙",price:329,sales:2980,image:"https://images.unsplash.com/photo-1594357937085-f17503c4e748?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8ZmxvcmFsJTIwZHJlc3MlMjBibGFjayUyMGFuZCUyMHdoaXRlfGVufDB8fDB8fHww"},{id:1030,name:"高腰A字半身裙",price:199,sales:2150,image:"https://images.unsplash.com/photo-1591079823942-a86a154ccb05?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8SGlnaCUyMHdhaXN0ZWQlMjBBJTIwbGluZSUyMHNraXJ0JTIwYmxhY2slMjBhbmQlMjB3aGl0ZXxlbnwwfHwwfHx8MA%3D%3D"},{id:1031,name:"针织包臀裙",price:259,sales:1320,image:"https://images.unsplash.com/photo-1622533082651-68c1d92bc15b?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTh8fGRyZXNzJTIwYmxhY2slMjBhbmQlMjB3aGl0ZXxlbnwwfHwwfHx8MA%3D%3D"},{id:1032,name:"波西米亚长裙",price:359,sales:890,image:"https://images.unsplash.com/photo-1632227899642-743d963c8bfc?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MzB8fGRyZXNzJTIwYmxhY2slMjBhbmQlMjB3aGl0ZXxlbnwwfHwwfHx8MA%3D%3D"},{id:1033,name:"透气网面运动鞋",price:399,sales:2150,image:"https://images.unsplash.com/photo-1578314921455-34dd4626b38d?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTJ8fHNob2VzJTIwYmxhY2slMjBhbmQlMjB3aGl0ZXxlbnwwfHwwfHx8MA%3D%3D"},{id:1034,name:"经典小白鞋",price:359,sales:3250,image:"https://images.unsplash.com/photo-1556812191-381c7e7d96d6?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTl8fHNob2VzJTIwYmxhY2slMjBhbmQlMjB3aGl0ZXxlbnwwfHwwfHx8MA%3D%3D"},{id:1035,name:"Martin靴",price:459,sales:1850,image:"https://images.unsplash.com/photo-1631482665514-567048726eb1?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MjJ8fHNob2VzJTIwYmxhY2slMjBhbmQlMjB3aGl0ZXxlbnwwfHwwfHx8MA%3D%3D"},{id:1036,name:"夏季凉鞋",price:259,sales:2750,image:"https://images.unsplash.com/photo-1561304211-f88bafcc4e22?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MzV8fHNob2VzJTIwYmxhY2slMjBhbmQlMjB3aGl0ZXxlbnwwfHwwfHx8MA%3D%3D"},{id:1037,name:"时尚棒球帽",price:89,sales:980,image:"https://images.unsplash.com/photo-1689501663816-4c5b7f6688f0?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MjR8fEJhc2ViYWxsJTIwY2FwJTIwYmxhY2slMjBhbmQlMjB3aGl0ZXxlbnwwfHwwfHx8MA%3D%3D"},{id:1038,name:"羊毛针织围巾",price:159,sales:1320,image:"https://images.unsplash.com/photo-1642888823903-dca882a78b69?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NDR8fFdvb2wlMjBrbml0dGVkJTIwc2NhcmYlMjBibGFjayUyMGFuZCUyMHdoaXRlfGVufDB8fDB8fHww"},{id:1039,name:"潮流墨镜",price:299,sales:1750,image:"https://images.unsplash.com/photo-1730167056729-22f2b34ee32c?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTJ8fFRyZW5keSUyMHN1bmdsYXNzZXMlMjBibGFjayUyMGFuZCUyMHdoaXRlfGVufDB8fDB8fHww"},{id:1040,name:"时尚手表",price:599,sales:890,image:"https://images.unsplash.com/photo-1722445423163-f57f92ea9f78?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Nnx8d2F0Y2glMjBibGFjayUyMGFuZCUyMHdoaXRlfGVufDB8fDB8fHww"},{id:1041,name:"棉质内裤",price:129,sales:3520,image:"https://images.unsplash.com/photo-1640765937555-6f413ed1d936?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mzl8fENvdHRvbiUyMHVuZGVyd2VhciUyMGJsYWNrJTIwYW5kJTIwd2hpdGV8ZW58MHx8MHx8fDA%3D"},{id:1042,name:"莫代尔睡衣套装",price:199,sales:2450,image:"https://images.unsplash.com/photo-1736697421338-c361795c7191?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8cGFqYW1hJTIwc2V0JTIwYmxhY2slMjBhbmQlMjB3aGl0ZXxlbnwwfHwwfHx8MA%3D%3D"},{id:1043,name:"保暖内衣套装",price:259,sales:1890,image:"https://images.unsplash.com/photo-1731267776886-90f90af75eb1?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8N3x8dGhlcm1hbCUyMHVuZGVyd2VhciUyMHNldCUyMGJsYWNrJTIwYW5kJTIwd2hpdGV8ZW58MHx8MHx8fDA%3D"},{id:1044,name:"纯棉袜子",price:69,sales:4780,image:"https://images.unsplash.com/photo-1640026199235-c24aa417b552?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTZ8fFB1cmUlMjBjb3R0b24lMjBzb2NrcyUyMGJsYWNrJTIwYW5kJTIwd2hpdGV8ZW58MHx8MHx8fDA%3D"},{id:1045,name:"双肩背包",price:299,sales:2150,image:"https://images.unsplash.com/photo-1541267732407-8f72c182cf11?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8QmFja3BhY2slMjBibGFjayUyMGFuZCUyMHdoaXRlfGVufDB8fDB8fHww"},{id:1046,name:"时尚手提包",price:399,sales:1780,image:"https://images.unsplash.com/photo-1614179689702-355944cd0918?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MjB8fGZhc2hpb24lMjBoYW5kYmFnJTIwYmxhY2slMjBhbmQlMjB3aGl0ZXxlbnwwfHwwfHx8MA%3D%3D"},{id:1047,name:"斜挎包",price:259,sales:2350,image:"https://images.unsplash.com/photo-1592480071809-f42c1dfd4939?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8U2hvdWxkZXIlMjBiYWclMjBibGFjayUyMGFuZCUyMHdoaXRlfGVufDB8fDB8fHww"},{id:1048,name:"旅行拉杆箱",price:499,sales:1580,image:"https://plus.unsplash.com/premium_photo-1677838847809-9f0ed2fa2a86?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTd8fFRyYXZlbCUyMHN1aXRjYXNlJTIwYmxhY2slMjBhbmQlMjB3aGl0ZXxlbnwwfHwwfHx8MA%3D%3D"}],ue=w("category",{state:()=>({CategoryNavVisible:!1,categories:de,allProducts:ne,currentCategory:{id:"",label:"全部商品"},currentSort:"default",sortOptions:{default:"综合排序",priceAsc:"价格从低到高",priceDesc:"价格从高到低",salesDesc:"销量优先",newest:"最新上架"},pageSize:12,currentPage:1,totalProducts:48,displayProducts:[],searchQuery:"",defaultProps:{children:"children",label:"label"}}),actions:{async loadProducts(){try{const e=await R.get("/product/productList");if(e&&"object"==typeof e)if(200===e.code){let a=[...e.data];if(this.searchQuery){const e=this.searchQuery.toLowerCase();a=a.filter(a=>a.name.toLowerCase().includes(e))}if(this.currentCategory.id){const e=this.currentCategory.id,s=e.charAt(0),i=e.charAt(1);1===e.length?"1"===e?a=a.filter(e=>e.id>=1001&&e.id<=1020):"2"===e?a=a.filter(e=>e.id>=1021&&e.id<=1032):"3"===e?a=a.filter(e=>e.id>=1033&&e.id<=1036):"4"===e?a=a.filter(e=>e.id>=1037&&e.id<=1040):"5"===e?a=a.filter(e=>e.id>=1041&&e.id<=1044):"6"===e&&(a=a.filter(e=>e.id>=1045&&e.id<=1048)):"1"===s?"1"===i?a=a.filter(e=>e.id>=1001&&e.id<=1004):"2"===i?a=a.filter(e=>e.id>=1005&&e.id<=1008):"3"===i?a=a.filter(e=>e.id>=1009&&e.id<=1012):"4"===i?a=a.filter(e=>e.id>=1013&&e.id<=1016):"5"===i?a=a.filter(e=>e.id>=1017&&e.id<=1018):"6"===i&&(a=a.filter(e=>e.id>=1019&&e.id<=1020)):"2"===s&&("1"===i?a=a.filter(e=>e.id>=1021&&e.id<=1024):"2"===i?a=a.filter(e=>e.id>=1025&&e.id<=1028):"5"===i&&(a=a.filter(e=>e.id>=1029&&e.id<=1032)))}switch(this.currentSort){case"priceAsc":a.sort((e,a)=>e.price-a.price);break;case"priceDesc":a.sort((e,a)=>a.price-e.price);break;case"salesDesc":a.sort((e,a)=>a.sales-e.sales);break;case"newest":a.sort((e,a)=>a.id-e.id)}this.totalProducts=a.length;const s=(this.currentPage-1)*this.pageSize,i=s+this.pageSize;this.displayProducts=a.slice(s,i)}else{const a=e.message||"加载商品数据失败";z({message:a,type:"error",duration:3e3})}else z({message:"服务器响应格式错误",type:"error",duration:3e3})}catch(e){F({title:"加载失败",message:"网络请求失败，请检查网络连接",type:"error",duration:3e3})}},setSearchQuery(e){this.searchQuery=e,this.currentPage=1,this.loadProducts()},handleNodeClick(e){this.currentCategory=e,this.currentPage=1,this.currentSort="default",this.loadProducts()},handleSizeChange(e){this.pageSize=e,this.currentPage=1,this.loadProducts()},handleCurrentChange(e){this.currentPage=e,this.loadProducts()},handleSortChange(e){this.currentSort=e,this.loadProducts()},addToCart(e){F({title:"已添加到购物车",message:`已添加 "${e.name}" 到购物车`,type:"success",duration:2e3})},addToWishlist(e){F({title:"已添加到收藏",message:`已将 "${e.name}" 添加到收藏夹`,type:"info",duration:2e3})},async initializeData(){await this.loadProducts()}}}),ce={class:"responsive-menu"},me={class:"search-dropdown-content"},pe={key:1,class:"mobile-menu-toggle"},fe=ee(e({__name:"PcMenu",setup(e){const a=M(),s=g(),i=l(!1),n=l(!1),p=l(a.path),f=l(""),h=l(!1),w=l(!1),B=k(),{isLoggedIn:v}=x(B),D=ue(),G=()=>{i.value=window.innerWidth<768},W=()=>{f.value.trim()&&(D.setSearchQuery(f.value),s.push("/category"))},J=e=>{p.value=e,"/user"!==e?(s.push(e),i.value&&(n.value=!1)):F()},F=()=>{v.value&&localStorage.getItem("token")?s.push("/user"):h.value=!0,i.value&&(n.value=!1)},z=e=>{},R=()=>{w.value=!0},Q=()=>{},S=e=>{s.push("/user")},P=()=>{};return t(()=>{G(),window.addEventListener("resize",G)}),b(()=>{window.removeEventListener("resize",G)}),(e,a)=>{const s=Y,l=_,t=j,M=q,x=A,b=T,g=V;return u(),o("div",ce,[a[9]||(a[9]=c("div",{class:"logo"},[c("h1",null,"PURE MALL")],-1)),i.value?(u(),o("div",pe,[r(b,{type:"primary",onClick:a[1]||(a[1]=e=>n.value=!0),icon:m(I),circle:"",size:"default"},null,8,["icon"])])):(u(),y(x,{key:0,mode:"horizontal",class:"desktop-menu","default-active":p.value,ellipsis:!1,router:!1,onSelect:J},{default:d(()=>[r(l,{index:"/"},{default:d(()=>[r(s,null,{default:d(()=>[r(m(U))]),_:1})]),_:1}),r(M,{index:"search","popper-class":"search-dropdown"},{title:d(()=>[r(s,null,{default:d(()=>[r(m(X))]),_:1})]),default:d(()=>[c("div",me,[r(t,{modelValue:f.value,"onUpdate:modelValue":a[0]||(a[0]=e=>f.value=e),placeholder:"Search products...",class:"search-input",clearable:"",onKeyup:H(W,["enter"])},null,8,["modelValue"])])]),_:1}),r(l,{index:"/category"},{default:d(()=>[r(s,null,{default:d(()=>[r(m(N))]),_:1})]),_:1}),r(l,{index:"/cart"},{default:d(()=>[r(s,null,{default:d(()=>[r(m(C))]),_:1})]),_:1}),r(l,{index:"/user"},{default:d(()=>[r(s,null,{default:d(()=>[r(m(Z))]),_:1})]),_:1})]),_:1},8,["default-active"])),r(g,{modelValue:n.value,"onUpdate:modelValue":a[2]||(a[2]=e=>n.value=e),direction:"ltr",size:"30%",router:!1,"with-header":!1},{default:d(()=>[r(x,{class:"mobile-menu","default-active":p.value,onSelect:J},{default:d(()=>[r(l,{index:"/"},{default:d(()=>[r(s,null,{default:d(()=>[r(m(U))]),_:1}),a[5]||(a[5]=c("span",null,"首页",-1))]),_:1,__:[5]}),r(l,{index:"/category"},{default:d(()=>[r(s,null,{default:d(()=>[r(m(N))]),_:1}),a[6]||(a[6]=c("span",null,"分类",-1))]),_:1,__:[6]}),r(l,{index:"/cart"},{default:d(()=>[r(s,null,{default:d(()=>[r(m(C))]),_:1}),a[7]||(a[7]=c("span",null,"购物车",-1))]),_:1,__:[7]}),r(l,{index:"/user"},{default:d(()=>[r(s,null,{default:d(()=>[r(m(Z))]),_:1}),a[8]||(a[8]=c("span",null,"我的",-1))]),_:1,__:[8]})]),_:1},8,["default-active"])]),_:1},8,["modelValue"]),r(ae,{visible:h.value,"onUpdate:visible":a[3]||(a[3]=e=>h.value=e),onSuccess:z,onToLogin:R,onCancel:Q},null,8,["visible"]),r(re,{visible:w.value,"onUpdate:visible":a[4]||(a[4]=e=>w.value=e),onSuccess:S,onCancel:P},null,8,["visible"])])}}}),[["__scopeId","data-v-a4d41baf"]]);export{fe as P,ee as _,ne as p,ue as u};
