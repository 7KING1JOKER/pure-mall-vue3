import{P as s,_ as e}from"./PcMenu-BsCkS281.js";/* empty css                       *//* empty css                        *//* empty css                  */import{y as a,aA as l,j as t,z as i,B as d,Q as o,M as c,I as r,u as n,P as u,a5 as m,O as p,A as v,E as f,H as k,K as _,W as y}from"./vue-vendor-CX6JgQha.js";import{useCartStore as h}from"./cart-BZ7cES-1.js";import{u as g,a as x}from"./index-BRCmbdoR.js";import{C as j}from"./CardSteps-DzzXuniT.js";import{A}from"./AddressDialog-CPtsY9hp.js";import{q as C,I as V,f as b,$ as D,a0 as F,w as q,a1 as w,c as z,X as I,a2 as M,g as P,a3 as U,J as E,a4 as R,_ as S}from"./element-plus-ChN3TaTZ.js";import"./axios-DZIQhO2a.js";import"./utils-DcEdpf46.js";/* empty css                    */const B={class:"checkout-container"},H={class:"checkout-content"},J={class:"address-section"},K={class:"section-title"},O={class:"address-list"},Q=["onClick"],T={class:"address-info"},W={class:"name-phone"},X={class:"name"},$={class:"phone"},G={class:"address-detail"},L={class:"address-actions"},N={class:"order-items-section"},Y={class:"section-title"},Z={class:"order-items"},ss={class:"item-image"},es={class:"item-info"},as={class:"item-title"},ls={class:"item-spec"},ts={class:"item-price"},is={class:"item-quantity"},ds={class:"item-subtotal"},os={class:"delivery-section"},cs={class:"section-title"},rs={class:"delivery-options"},ns={class:"order-remark-section"},us={class:"section-title"},ms={class:"remark-input"},ps={class:"checkout-footer"},vs={class:"checkout-footer-left"},fs={class:"checkout-footer-right"},ks=e(a({__name:"Checkout",setup(e){const a=h(),ks=g(),_s=x(),{openEditAddressDialog:ys,openAddAddressDialog:hs}=ks,{setActiveStep:gs}=a,{addresses:xs}=l(ks),{selectedItemsForCheckout:js,selectedAddressId:As,deliveryFee:Cs,totalAmount:Vs}=l(_s),{selectAddress:bs,confirmDeleteAddress:Ds,proceedToPayment:Fs}=_s;return t(()=>{gs(1)}),(e,a)=>{const l=C,t=q,h=z,g=P,x=E,gs=V,qs=b;return v(),i(u,null,[d("div",B,[o(s),o(j),d("div",H,[d("div",J,[d("div",K,[o(l,null,{default:r(()=>[o(n(D))]),_:1}),a[3]||(a[3]=c(" 收货地址 ",-1)),o(l,{onClick:n(hs),class:"add-icon"},{default:r(()=>[o(n(F))]),_:1},8,["onClick"])]),d("div",O,[(v(!0),i(u,null,m(n(xs),s=>(v(),i("div",{key:s.id,class:f(["address-item",{active:s.id===n(As)}]),onClick:e=>n(bs)(s.id)},[d("div",T,[d("div",W,[d("span",X,p(s.name),1),d("span",$,p(s.phone),1)]),d("div",G,p(s.province)+" "+p(s.city)+" "+p(s.district)+" "+p(s.street),1)]),d("div",L,[s.isDefault?(v(),k(t,{key:0,size:"small",type:"success"},{default:r(()=>a[4]||(a[4]=[c("默认",-1)])),_:1,__:[4]})):_("",!0),o(h,{type:"primary",text:"",size:"small",onClick:y(e=>n(ys)(s.id),["stop"])},{default:r(()=>[o(l,null,{default:r(()=>[o(n(w))]),_:1})]),_:2},1032,["onClick"]),o(h,{type:"danger",text:"",size:"small",onClick:y(e=>n(Ds)(s.id),["stop"])},{default:r(()=>[o(l,null,{default:r(()=>[o(n(I))]),_:1})]),_:2},1032,["onClick"])])],10,Q))),128))])]),d("div",N,[d("div",Y,[o(l,null,{default:r(()=>[o(n(M))]),_:1}),a[5]||(a[5]=c(" 订单商品 ",-1))]),d("div",Z,[(v(!0),i(u,null,m(n(js),(s,e)=>(v(),i("div",{class:"order-item",key:e},[d("div",ss,[o(g,{src:s.imageUrl,fit:"cover",loading:"lazy",class:"product-img",alt:s.name},null,8,["src","alt"])]),d("div",es,[d("div",as,p(s.name),1),d("div",ls,"规格："+p(s.spec),1)]),d("div",ts,"¥"+p(s.price.toFixed(2)),1),d("div",is,"x"+p(s.quantity),1),d("div",ds,"¥"+p((s.price*s.quantity).toFixed(2)),1)]))),128))])]),d("div",os,[d("div",cs,[o(l,null,{default:r(()=>[o(n(U))]),_:1}),a[6]||(a[6]=c(" 配送方式 ",-1))]),d("div",rs,[o(gs,{modelValue:n(_s).deliveryMethod,"onUpdate:modelValue":a[0]||(a[0]=s=>n(_s).deliveryMethod=s)},{default:r(()=>[o(x,{label:"standard"},{default:r(()=>a[7]||(a[7]=[c("标准配送 (免费)",-1)])),_:1,__:[7]}),o(x,{label:"express"},{default:r(()=>a[8]||(a[8]=[c("快速配送 (¥15.00)",-1)])),_:1,__:[8]})]),_:1},8,["modelValue"])])]),d("div",ns,[d("div",us,[o(l,null,{default:r(()=>[o(n(R))]),_:1}),a[9]||(a[9]=c(" 订单备注 ",-1))]),d("div",ms,[o(qs,{modelValue:n(_s).orderRemark,"onUpdate:modelValue":a[1]||(a[1]=s=>n(_s).orderRemark=s),type:"textarea",rows:2,placeholder:"请输入订单备注，如有特殊要求请在此说明",maxlength:"200","show-word-limit":""},null,8,["modelValue"])])]),d("div",ps,[d("div",vs,[d("span",null,"商品总价("+p(n(_s).subtotal.toFixed(2))+")",1),d("span",null,"配送费("+p(n(Cs).toFixed(2))+")",1),d("span",null,"总额("+p(n(Vs).toFixed(2))+")",1)]),d("div",fs,[o(l,{onClick:n(Fs),class:"footer-icon"},{default:r(()=>[o(n(S))]),_:1},8,["onClick"])])])])]),o(A,{modelValue:n(ks).AddressDialogVisible,"onUpdate:modelValue":a[2]||(a[2]=s=>n(ks).AddressDialogVisible=s)},null,8,["modelValue"])],64)}}}),[["__scopeId","data-v-92a86118"]]);export{ks as default};
